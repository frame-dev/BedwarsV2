# Configuration Guide

A comprehensive guide to configuring your BedWars plugin.

---

## Table of Contents

1. [config.yml](#configyml)
2. [messages.yml](#messagesyml)
3. [shop.yml](#shopyml)
4. [upgrades.yml](#upgradesyml)
5. [arenas.yml](#arenasyml)

---

## config.yml

Main plugin configuration file. Reload with `/bw reload`.

### Basic Settings

```yaml
# Plugin settings
debug: false
check-for-updates: true

# Database configuration
database:
  type: sqlite
  file: bedwars.db
  # For MySQL:
  # type: mysql
  # host: localhost
  # port: 3306
  # database: bedwars
  # username: root
  # password: password
  # pool-size: 10
```

### Game Configuration

```yaml
game:
  # Countdown settings
  countdown-time: 30
  countdown-broadcast-intervals: [30, 20, 10, 5, 4, 3, 2, 1]

  # Player settings
  min-players: 2
  max-players: 16
  respawn-time: 5
  auto-balance-teams: true

  # Starting item given to all players
  starting-item: WOODEN_SWORD

  # Combat settings
  void-death-level: 0
  allow-fall-damage: true
  allow-projectile-damage: true
  allow-pvp: true

  # Bed settings
  bed-protection: true

  # Generator upgrade times
  diamond-upgrade-time: 720
  emerald-upgrade-time: 1440

  # Team colors (order matters for auto-assignment)
  available-team-colors:
    - RED
    - BLUE
    - GREEN
    - YELLOW
    - AQUA
    - WHITE
    - PINK
    - GRAY
```

### World Configuration

```yaml
world:
  # Automatically reset world blocks after game
  reset-on-end: true

  # Track block changes for reset
  track-block-changes: true

  # Allow block placement/breaking during games
  allow-block-placing: true
  allow-block-breaking: true

  # Delay before restoring blocks (seconds)
  restore-delay: 2
```

## arenas.yml

Arena definitions are stored in `arenas.yml` and generated by setup commands.

```yaml
arenas:
  example-arena:
    # Arena metadata
    display-name: "Example Arena"
    description: "A 4v4 arena"
    
    # Player limits
    min-players: 2
    max-players: 8
    
    # Lobby spawn (where players wait)
    lobby-spawn: world,0.0,100.0,0.0,0.0,0.0
    
    # Spectator spawn (where watchers spawn)
    spectator-spawn: world,50.0,150.0,50.0,0.0,0.0
    
    # Teams configuration
    teams:
      red:
        # Team spawn (where players respawn)
        spawn: world,100.0,64.0,100.0,0.0,0.0
        
        # Bed location (what to protect)
        bed: world,105.0,64.0,100.0,0.0,0.0
        
        # Team color (used for armor)
        color: RED
        
        # Team display name
        display-name: "Red Team"
      
      blue:
        spawn: world,-100.0,64.0,-100.0,180.0,0.0
        bed: world,-105.0,64.0,-100.0,180.0,0.0
        color: BLUE
        display-name: "Blue Team"
    
    # Resource generators
    generators:
      diamond1: world,0.0,80.0,0.0,0.0,0.0
      emerald1: world,0.0,90.0,-100.0,0.0,0.0
```

### BungeeCord Configuration

```yaml
bungeecord:
  enabled: false
  # Server name to send players back to
  lobby-server: lobby
```

---

## messages.yml

Customize all plugin messages. Supports `&` color codes.

### Message Examples

```yaml
# Command responses
command:
  join-success: "&a✓ You joined game: &b{arena}"
  join-failure: "&c✗ Game is full or doesn't exist"
  already-in-game: "&c✗ You're already in a game"
  not-in-game: "&c✗ You're not in a game"
  left-game: "&aYou left the game"
  force-left-game: "&cYou were removed from the game"

# Game messages
game:
  game-starting: "&6Game starting in &c{countdown} &6seconds..."
  game-started: "&a&lGAME STARTED!"
  game-ended: "&e&l{winner} &eWON!"
  team-eliminated: "&c{team} &7has been eliminated!"
  bed-destroyed: "&c&l⚠ &c{team}'s bed has been destroyed!"
  final-kill: "&e&l★ &e{player} &7got a final kill!"

# Countdown messages
countdown:
  30: "&6Game starting in 30 seconds!"
  10: "&eGame starting in 10 seconds"
  5: "&c5..."
  4: "&c4..."
  3: "&c3..."
  2: "&c2..."
  1: "&c1..."

# Shop messages
shop:
  no-resources: "&cYou don't have enough {resource}!"
  purchase-success: "&a✓ Purchased {item}"
  upgrade-success: "&a✓ Upgraded {upgrade}"
```

---

## shop.yml

Define shop items and their costs.

### Item Definition

```yaml
items:
  # Blocks category
  blocks:
    wool:
      display-name: "&fWool"
      lore:
        - "&7Cost: &61 Iron"
      material: WOOL
      cost:
        iron: 1
      amount: 16
    
    obsidian:
      display-name: "&0Obsidian"
      lore:
        - "&7Cost: &64 Diamonds"
        - "&7Unbreakable"
      material: OBSIDIAN
      cost:
        diamond: 4
      amount: 4
  
  # Weapons category
  weapons:
    iron-sword:
      display-name: "&7Iron Sword"
      lore:
        - "&7Cost: &65 Gold"
      material: IRON_SWORD
      cost:
        gold: 5
      amount: 1
    
    diamond-sword:
      display-name: "&bDiamond Sword"
      lore:
        - "&7Cost: &63 Diamonds"
      material: DIAMOND_SWORD
      cost:
        diamond: 3
      amount: 1
```

---

## upgrades.yml

Define team upgrades available in the upgrade shop.

### Upgrade Definition

```yaml
upgrades:
  sharpened-swords:
    display-name: "&6Sharpened Swords"
    description: "Adds Sharpness I to all swords"
    material: DIAMOND_SWORD
    cost:
      diamond: 8
    effect:
      enchantment: SHARPNESS
      level: 1
    max-tier: 1
  
  reinforced-armor:
    display-name: "&7Reinforced Armor"
    description: "Adds Protection to all armor"
    material: DIAMOND_CHESTPLATE
    tiers:
      1:
        cost:
          diamond: 2
        effect:
          enchantment: PROTECTION_ENVIRONMENTAL
          level: 1
      2:
        cost:
          diamond: 4
        effect:
          enchantment: PROTECTION_ENVIRONMENTAL
          level: 2
      3:
        cost:
          diamond: 8
        effect:
          enchantment: PROTECTION_ENVIRONMENTAL
          level: 3
      4:
        cost:
          diamond: 16
        effect:
          enchantment: PROTECTION_ENVIRONMENTAL
          level: 4
    max-tier: 4
  
  maniac-miner:
    display-name: "&6Maniac Miner"
    description: "Adds Haste to players"
    material: DIAMOND_PICKAXE
    tiers:
      1:
        cost:
          diamond: 2
        effect:
          enchantment: HASTE
          level: 1
      2:
        cost:
          diamond: 4
        effect:
          enchantment: HASTE
          level: 2
    max-tier: 2
```

---

## arenas.yml

Auto-generated file that stores arena configurations created with `/bw setup` commands.

**Do not edit manually** - Use in-game commands instead:
```
/bw setup create <name>
/bw setup setlobby
/bw setup setspawn <team>
/bw setup setbed <team>
/bw setup addgenerator <name>
/bw setup save
```

---

## Color Codes

Use `&` for colors in messages:

| Code | Color |
|------|-------|
| `&0` | Black |
| `&1` | Dark Blue |
| `&2` | Dark Green |
| `&3` | Dark Aqua |
| `&4` | Dark Red |
| `&5` | Dark Purple |
| `&6` | Gold |
| `&7` | Gray |
| `&8` | Dark Gray |
| `&9` | Blue |
| `&a` | Green |
| `&b` | Aqua |
| `&c` | Red |
| `&d` | Light Purple |
| `&e` | Yellow |
| `&f` | White |
| `&l` | Bold |
| `&m` | Strikethrough |
| `&n` | Underline |
| `&o` | Italic |
| `&r` | Reset |

---

## Tips

1. **Reload Configuration**: Use `/bw reload` to reload configs without restart
2. **Comments**: Use `#` for comments in YAML files
3. **Indentation**: YAML requires 2-space indentation (not tabs)
4. **Validation**: Check for YAML syntax errors at www.yamllint.com
5. **Backup**: Always backup your configs before editing
